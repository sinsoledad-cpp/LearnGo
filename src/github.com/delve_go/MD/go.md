# go语言的特点

![go的特点](image/go的特点.png)

# Runtime

## Runtime是什么呢? 

Runtime就是程序的运行环境,作为程序的一部分打包进二进制产物,随用户程序一起运行,与用户程序没有明显界限，直接通过函数调用

## Runtime 的能力

- 内存管理能力
- 垃圾回收能力(GC)
- 超强的并发能力(协程调度)

## Runtime 其他特点

- Runtime 有一定的屏蔽系统调用能力
- 一些 go 的关键字其实是 Runtime 下的函数

# Go程序是如何编译的?

**查看编译指令:**`go build -n`

![Go编译过程](image/Go编译过程.png)

### 词法分析

- 将源代码翻译成 Token
- Token 是代码中的最小语义结构

### 句法分析

- Token序列经过处理，变成语法树

### 语义分析

- 类型检查
- 类型推断
- 查看类型是否匹配
- 函数调用内联
- 逃逸分析

### 中间码生成(SSA)

- 为了处理不同平台的差异，先生成中间代码(SSA)
- 查看从代码到SSA中间码的整个过程
![查看中间码(SSA)](image/查看中间码(SSA).png)

### 机器码生成

- 先生成Plan9汇编代码
- 最后编译为机器码
- 输出的机器码为.a文件
- 查看 Plan9 汇编代码
![查看 Plan9 汇编代码](image/查看 Plan9 汇编代码.png)

### 链接

- 将各个包进行链接，包括runtime

### 总结

![编辑总结](image/编辑总结.png)